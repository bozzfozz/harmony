{% import "partials/_strings.j2" as strings %}
{% import "partials/status_badges.j2" as status_badges %}

<div class="system-card__body">
  <div class="system-card__status">
    {{ status_badges.render_badge(summary.badge) }}
    <span class="system-card__status-text">{{ summary.status_text }}</span>
  </div>
  <dl class="system-card__details">
    <div class="system-card__detail">
      <dt>{{ strings.dashboard_status_version_label() }}</dt>
      <dd>{{ summary.version if summary.version else strings.system_field_placeholder() }}</dd>
    </div>
    <div class="system-card__detail">
      <dt>{{ strings.dashboard_status_uptime_label() }}</dt>
      <dd>{{ summary.uptime_text if summary.uptime_text else strings.system_field_placeholder() }}</dd>
    </div>
    {% if summary.readiness_badge %}
      <div class="system-card__detail">
        <dt>{{ strings.dashboard_status_readiness_label() }}</dt>
        <dd>
          {{ status_badges.render_badge(summary.readiness_badge) }}
          {% if summary.readiness_text %}
            <span class="system-card__status-text">{{ summary.readiness_text }}</span>
          {% endif %}
        </dd>
      </div>
    {% endif %}
  </dl>
  {% if summary.connections %}
    <div class="system-card__section">
      <h4 class="system-card__section-title">{{ strings.dashboard_status_connections_heading() }}</h4>
      <ul class="system-card__list">
        {% for connection in summary.connections %}
          <li class="system-card__list-item">
            <span class="system-card__item-name">{{ connection.name }}</span>
            {{ status_badges.render_badge(connection.badge) }}
          </li>
        {% endfor %}
      </ul>
    </div>
  {% endif %}
  {% if summary.issues %}
    <div class="system-card__section">
      <h4 class="system-card__section-title">{{ strings.dashboard_status_issues_heading() }}</h4>
      <ul class="system-card__note-list">
        {% for issue in summary.issues %}
          <li class="system-card__note">{{ strings.dashboard_issue_text(issue.component, issue.message) }}</li>
        {% endfor %}
      </ul>
    </div>
  {% endif %}
</div>
