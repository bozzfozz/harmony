{% import "partials/_strings.j2" as strings %}
{% import "partials/status_badges.j2" as status_badges %}

{% macro _render_primary_nav(items, swap_oob) -%}
  {% if items %}
    <nav aria-label="Primary"
         role="navigation"
         id="primary-navigation"
         {% if swap_oob %}hx-swap-oob="{{ swap_oob }}"{% endif %}>
      {% for item in items %}
        <a href="{{ item.href }}"
          {% if item.test_id %}data-test="{{ item.test_id }}"{% endif %}
           class="primary-nav__link{% if item.active %} is-active{% endif %}">
          {{ strings.nav_label(item.label_key) }}
          {% if item.badge %}
            <span class="primary-nav__indicator">
              {{ status_badges.render_badge(item.badge) }}
            </span>
          {% endif %}
        </a>
      {% endfor %}
    </nav>
  {% endif %}
{%- endmacro %}


{% macro render_primary_nav(items) -%}
  {{ _render_primary_nav(items, None) }}
{%- endmacro %}


{% macro render_primary_nav_oob(items) -%}
  {{ _render_primary_nav(items, "outerHTML") }}
{%- endmacro %}
