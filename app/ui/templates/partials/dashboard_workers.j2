{% import "partials/_strings.j2" as strings %}
{% import "partials/status_badges.j2" as status_badges %}

<div class="system-card__body">
  {% if workers %}
    <ul class="system-card__list">
      {% for worker in workers %}
        <li class="system-card__list-item">
          <div class="system-card__service">
            <span class="system-card__item-name">{{ worker.name }}</span>
            {{ status_badges.render_badge(worker.badge) }}
          </div>
          <p class="system-card__note">{{ strings.dashboard_worker_status(worker.status_text) }}</p>
          {% if worker.queue_size %}
            <p class="system-card__note">{{ strings.dashboard_worker_queue(worker.queue_size) }}</p>
          {% endif %}
          {% if worker.last_seen %}
            <p class="system-card__note">{{ strings.dashboard_worker_seen(worker.last_seen) }}</p>
          {% endif %}
          {% if worker.meta %}
            <p class="system-card__note">{{ worker.meta }}</p>
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p class="system-card__empty">{{ strings.dashboard_workers_empty() }}</p>
  {% endif %}
</div>
